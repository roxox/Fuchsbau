<div class="container">
    {% include "default/subnav.html.twig" %}

    {#<h1># Projekte mit meiner Beteiligung</h1>#}
    {#<br>#}
    {#<br>#}
    <br>
    <div align="center">
    <span style="font-weight: 200; font-size: 16px">
            Hier gibt es ganz klar einen Überblick zu den beteiligten Projekten, dazu gibt es projektübergreifend, die nächsten Termine.
        </span>
    </div>

    <hr>
    {#<br>#}

    {# Übersicht aller Projekte #}
    <div>
        {#<h4 align="center" style="background: rgba(249, 249, 249, 0.5);#}
        {#border-radius: 3px;#}
        {#border: 1px solid #b6b6b6;"#}
            {#id="projekte"><span#}
                    {#class="glyphicon glyphicon-heart-empty"#}
                    {#aria-hidden="true"></span> Meine Projekte#}
        {#</h4>#}

        <h4 align="center"
            style="background: rgba(249, 249, 249, 0.5);
        border: 1px solid #b6b6b6;
        font-family: 'CANDYINC';
        /*color: #d94a37;*/
        color: #61625d;
        font-size: 33px;
        border-radius: 3px"
            id="projekte">
            Meine Projekte
        </h4>
    </div>
    <br>
    <div align="center">
    <span style="font-weight: 200; font-size: 16px">Du bist aktuell an <b>
            {% if numberOfProjects == 0 %}
                keinem Projekt
            {% elseif numberOfProjects == 1 %}
                einem Projekt
            {% else %}
                {{ numberOfProjects }} Projekten
            {% endif %}
        </b> beteiligt, egal ob als Bauherr(in), Bauleiter, Handwerker oder nur als
        Beobachter. Proejktbesitzer können in dem geöffneten Projekt das Projekt löschen, alle anderen können das Projekt verlassen.
        </span>
    </div>
    <br>
    <table class="table table-condensed">
        <th style="font-size: 16px; font-weight: 200; background-color: rgba(249, 249, 249, 0.5)">
            Projekttitel
        </th>
        <th style="font-size: 16px; font-weight: 200; background-color: rgba(249, 249, 249, 0.5)">
            Bauort
        </th>
        <th style="font-size: 16px; font-weight: 200; background-color: rgba(249, 249, 249, 0.5)">
            Haustyp
        </th>
        <th style="font-size: 16px; font-weight: 200; background-color: rgba(249, 249, 249, 0.5)">
            Bauträger
        </th>
        <th style="font-size: 16px; font-weight: 200; background-color: rgba(249, 249, 249, 0.5)">
            Meine Rollen
        </th>
        <th style="font-size: 16px; font-weight: 200; background-color: rgba(249, 249, 249, 0.5)" colspan="2">
            Gesamtkosten
        </th>
        </tr>
        {% if projekte != null %}

            {% for projekt in projekte %}
                <tr style="font-size: 14px; font-weight: 200">
                    <td style="width: 16%">
                        <p>{{ projekt.getName() }}</p>
                    </td>
                    <td style="width: 18%">
                        {% if projekt.getGrundstueck != null %}
                            {{ projekt.getGrundstueck.getStrasse() }} {{ projekt.getGrundstueck.getHausnummer() }}
                            <br> {{ projekt.getGrundstueck.getPostleitzahl }} {{ projekt.getGrundstueck.getOrt }}
                        {% else %}
                            -
                        {% endif %}
                    </td>
                    <td style="width: 10%">
                        {% if projekt.getHaus != null %}
                            {{ projekt.getHaus.getHausTyp.getName }}
                        {% else %}
                            -
                        {% endif %}
                    </td>
                    <td style="width: 16%">
                        -
                    </td>
                    <td style="width: 10%">
                        {% for rolle in person.getPersonenRollenByProjekt(projekt) %}
                            {{ rolle.getName }}
                        {% endfor %}
                    </td>
                    <td style="width: 20%">

                        365.432,98 Euro (inkl MwSt.)<br>
                    </td>
                    <td style="width: 10%" align="right">
                        <a class="btn btn-linkfx btn-xs"
                           style="font-weight: 400; font-size: 12px"
                           href="{{ path('display_project_by_project_id', {'projektId': projekt.getId()}) }}"
                           role="button">
                            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                            Projekt öffnen
                        </a>


                    </td>
                </tr>
            {% endfor %}

        {% else %}
            <tr>
                <td colspan="6" align="center">
                    Du nimmst an noch gar keinem Projekt teil.
                </td>
            </tr>
        {% endif %}
    </table>
    <table class="table table-condensed">
        <tr>
            <td colspan="6" align="right">
                <!-- Trigger the modal with a button -->
                <a class="btn btn-link-fx-brightblue btn-xs"
                   href="{{ path('add_projekt_modal') }}" role="button" data-toggle="modal"
                   data-target="#addProjektPopup">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Neues Projekt anlegen</a>
            </td>
        </tr>
    </table>

    <br>
    <div>

        <h4 align="center"
            style="background: rgba(249, 249, 249, 0.5);
        border: 1px solid #b6b6b6;
        font-family: 'CANDYINC';
        /*color: #d94a37;*/
        color: #61625d;
        font-size: 33px;
        border-radius: 3px"
            id="projekte">Meine Termine</h4>

            <br>
    </div>

    <div align="center">
    <span style="font-weight: 200; font-size: 16px">Hier werden dir die <b>nächsten 5 Termine</b> angezeigt. Zu diesen Terminen gehören auch die Termine, die in der Vergangenheit liegen, jedoch nicht als abgeschlossen oder als ignoriert markiert wurden
        </span>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="addProjektPopup" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Neues Projekt anlegen</h4>
                </div>
                <div class="modal-body">
                    <div class="text">
                        Lade Formular
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>