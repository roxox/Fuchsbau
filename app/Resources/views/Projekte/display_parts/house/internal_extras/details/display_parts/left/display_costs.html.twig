{#<span style="font-weight: 200; font-size: 26px">Kosten#}

    <h4 align="center"
        style="background: rgba(249, 249, 249, 0.5);
        border: 1px solid #b6b6b6;
        font-family: 'CANDYINC';
        color: #61625d;
        /*color: #d94a37;*/
        font-size: 33px;
        border-radius: 3px">Kosten
</h4>

<br>

    {#<sup><button type="button" class="btn btn-linkfxbrt btn-xs" data-toggle="collapse"#}
            {#href="{{ path('homepage') }}"#}
            {#style="font-weight: 200; font-size: 12px"#}
            {#role="button">#}
                 {#data-target="#collapseInfoKosten"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span> Hinweis ein-/ausblenden </button></sup>#}
{#</span>#}
<div class="collapse in" id="collapseInfoKosten">
    {#<div class="alert alert-warning fade in">#}
        <left><p style="font-size: 14px; font-weight: 200">
                In welcher Einheit und wie viel davon wird dieses Extra gemessen? Stück, m, m², m³ oder sonst irgendetwas anderes?</p>
        </left>
    {#</div>#}
</div>
<br>
<div>

    <table style="width: 100%;
                  /*border: 2px solid #cfcfcf;*/
                  border-radius: 8px;"
           align="right">

        {#<tr style="background-color: #fafafa">#}
            {#<td colspan="6">#}
                {#<br>#}
            {#</td>#}
        {#</tr>#}
        <tr style="background-color: #ffffff">
            <td style="width: 2%;">
            </td>
            <td style="width: 35%;">
            </td>
            <td align="right" style="width: 22%; font-size: 14px; font-weight: 200">
                PLAN
            </td>
            <td align="right" style="width: 22%; font-size: 14px; font-weight: 200">
                IST
            </td>
            <td align="right" style="width: 17%">
            </td>
            <td style="width: 2%;">
            </td>
        </tr>
        {#<tr style="background-color: #FAFAFA">#}
            {#<td colspan="6">#}
                {#<br>#}
            {#</td>#}
        {#</tr>#}

        {% if internalExtra.getAnzahl and (internalExtra.getKostenIst or internalExtra.getKostenPlan) %}
            <tr>
                <td colspan="6">
                    <br>
                </td>
            </tr>
            <tr>
                <td style="width: 2%;">
                </td>
                <td align="left" style="width: 35%;">
                    <p>Einzelpreis: </p>
                </td>
                {# PLAN #}
                <td align="right">
                    {{ internalExtra.getKostenInklMwsT(internalExtra.getKostenPlan)|number_format(2, ',', '.') }} €<br>
            <span style="font-size: x-small">{{ internalExtra.getKostenExklMwsT(internalExtra.getKostenPlan)|number_format(2, ',', '.') }}
                €</span>
                </td>
                <td align="right"
                    style=color: {{ internalExtra.getKostenIst > internalExtra.getKostenPlan ? '#b6141b' : '#FFFFFF' }}">
                    {{ internalExtra.getKostenInklMwsT(internalExtra.getKostenIst)|number_format(2, ',', '.') }} €<br>
            <span style="font-size: x-small">{{ internalExtra.getKostenExklMwsT(internalExtra.getKostenIst)|number_format(2, ',', '.') }}
                €</span>
                </td>
                {# MWST #}
                {#<td style="background-color: #ce8483" align="right">#}
                <td align="right">
                    <span style="font-size: x-small">(inkl. MwSt.)</span><br>
                    <span style="font-size: xx-small">(exkl. MwSt.)</span>
                </td>
                <td style="width: 2%;">
                </td>
            </tr>
            <tr>
                <td colspan="6">
                    <br>
                </td>
            </tr>
            <tr>
                <td style="width: 2%;">
                </td>
                <td align="left" style="width: 35%;">
                    <p>Anzahl und Einheit: </p>
                </td>
                <td align="right">
                    {% if internalExtra.getAnzahl != null %}
                        {{ internalExtra.getAnzahl }}
                    {% else %}
                        ---
                    {% endif %}
                </td>
                <td align="right">
                    {% if internalExtra.getAnzahl != null %}
                        {{ internalExtra.getAnzahl }}
                    {% else %}
                        ---
                    {% endif %}
                </td>
                <td align="right">

                    {% if internalExtra.getAnzahl != null %}
                        {{ internalExtra.getEinheit.getBezeichnung }}
                    {% else %}
                        ---
                    {% endif %}
                </td>
                <td style="width: 2%;">
                </td>
            </tr>
            <tr>
                <td colspan="6">
                    <br>
                </td>
            </tr>
            <tr>
                <td style="width: 2%;">
                </td>
                <td style="width: 35%;">
                    <b><p>Gesamtpreis: </p></b>
                </td>
                {# PLAN #}
                <td align="right">
                    {% if internalExtra.getAnzahl != null %}
                        <b>{{ internalExtra.getGesamtPreis(internalExtra.getKostenInklMwsT(internalExtra.getKostenPlan))|number_format(2, ',', '.') }}
                            €</b><br>
                        <span style="font-size: x-small">{{ internalExtra.getGesamtPreis(internalExtra.getKostenExklMwsT(internalExtra.getKostenPlan))|number_format(2, ',', '.') }}
                            €</span>
                    {% else %}
                        ---
                    {% endif %}
                </td>
                {# IST #}
                <td align="right"
                    style="color: {{ internalExtra.getGesamtPreis(internalExtra.getKostenInklMwsT(internalExtra.getKostenIst)) > internalExtra.getGesamtPreis(internalExtra.getKostenInklMwsT(internalExtra.getKostenPlan)) ? '#b6141b' : '#FFFFFF' }}">
                    {% if internalExtra.getAnzahl != null %}
                        <b>{{ internalExtra.getGesamtPreis(internalExtra.getKostenInklMwsT(internalExtra.getKostenIst))|number_format(2, ',', '.') }}
                            €</b><br>
                        <span style="font-size: x-small">{{ internalExtra.getGesamtPreis(internalExtra.getKostenExklMwsT(internalExtra.getKostenIst))|number_format(2, ',', '.') }}
                            €</span>
                    {% else %}
                        ---
                    {% endif %}
                </td>
                {# MWST #}
                <td align="right">
                    {% if internalExtra.getAnzahl != null %}
                        <b><span style="font-size: x-small">(inkl. MwSt.)</span></b><br>
                        <span style="font-size: xx-small">(exkl. MwSt.)</span>
                    {% endif %}
                    <br>
                </td>
                <td style="width: 2%;">
                </td>
            </tr>
            {% set noData = "false" %}
        {% else %}
            <tr>
                <td colspan="6">
                    <br>
                </td>
            </tr>
            <tr>
                <td colspan="6" align="center">
                    <br><b>
                        Es sind entweder noch keine Kosten vorhanden, die Anzahl wurde noch nicht ausgwählt oder
                        beides.</b><br>
                    <br>
                </td>
            </tr>

            {% set noData = "true" %}
        {% endif %}

        {# Unterpunkte #}
        {% if internalExtra.hasChildren %}
            <tr>
                <td colspan="6">
                    <hr>
                </td>
            </tr>
            <tr>
                <td style="width: 2%;">
                </td>
                <td colspan="5">
                    {#<hr>#}
                    <h4>Mit Berücksichtigung der Unterpunkte:</h4>
                    <br>
                </td>
            </tr>
            <tr>
                <td style="width: 2%;">
                </td>
                <td style="width: 35%;">
                    <p><b>Gesamtpreis: </b></p>
                </td>
                <td align="right">
                    <b>{{ internalExtra.getGesamtPlanPreisInklMwstUndUnterpunkten|number_format(2, ',', '.') }}
                        €</b><br>
            <span style="font-size: x-small">{{ internalExtra.getGesamtPlanPreisExklMwstUndUnterpunkten|number_format(2, ',', '.') }}
                €</span>
                    <br>
                </td>
                <td align="right"
                    style="color: {{ internalExtra.getGesamtIstPreisInklMwstUndUnterpunkten > internalExtra.getGesamtPlanPreisInklMwstUndUnterpunkten ? '#b6141b' : '#FFFFFF' }}">
                    <b>{{ internalExtra.getGesamtIstPreisInklMwstUndUnterpunkten|number_format(2, ',', '.') }} €</b><br>
            <span style="font-size: x-small">{{ internalExtra.getGesamtIstPreisExklMwstUndUnterpunkten|number_format(2, ',', '.') }}
                €</span>
                    <br>
                </td>
                <td align="right">
                    <b><span style="font-size: x-small">(inkl. MwSt.)</span></b><br>
                    <span style="font-size: xx-small">(exkl. MwSt.)</span>
                    <br>
                </td>
                <td style="width: 2%;">
                </td>
            </tr>
            <tr>
                <td colspan="6">
                    <br>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6">
                    <hr>
                    {#<br>#}
                </td>
            </tr>
            <tr>
                <td colspan="6" align="center">
                    <br><b>
                        Es sind keine Unterpunkte vorhanden, die einen Einfluss auf den Gesamtpreis haben. Das ist nicht
                        schlimm, nicht jeder Punkt braucht Unterpunkte, aber für den Fall, dass es welche geben soll, im
                        unteren Bereich dieser Seite können Unterpunkte hinzugefügt werden.</b><br>
                    <br>
                    <hr>
                </td>
            </tr>
        {% endif %}
        {#<tr style="background-color: #fafafa">#}
            {#<td colspan="6">#}
                {#<br>#}
            {#</td>#}
        {#</tr>#}
        <tr style="background-color: #ffffff">
            <td colspan="6" align="right">
                <!-- Button Edit -->
                <button type="button" class="btn btn-linkfx btn-xs" aria-label="Left Align"
                        style="font-weight: 200; font-size: 14px"
                        href="{{ path('edit_current_person') }}"
                        data-toggle="modal"
                        data-target="#editPersonPopup">
                    <span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Bearbeiten
                </button>
        </tr>
        {#<tr style="background-color: #fafafa">#}
            {#<td colspan="6">#}
                {#<br>#}
            {#</td>#}
        {#</tr>#}
    </table>
    <br>
</div>

<div>
    <!-- Popups -->
    {% include "Personen/display_parts/left/popups/person/popup_person_edit.html.twig" %}
</div>